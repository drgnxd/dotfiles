#!/bin/bash

set -e

echo "Setting up login items..."

# List of applications to add to login items
# Application name is the name before .app
apps=(
    "Alacritty"
    "Floorp"
    "Hammerspoon"
    "Maccy"
    "Proton Mail"
    "Proton Pass"
    "ProtonVPN"
    "Sol"
    "Stats"
)

for app in "${apps[@]}"; do
    echo "Processing $app..."
    
    # Check if application exists
    if [ -d "/Applications/${app}.app" ]; then
        # Check if already in login items, if not add it
        osascript -e "tell application \"System Events\" to if not (exists login item \"${app}\") then make login item at end with properties {path:\"/Applications/${app}.app\", hidden:false}"
        echo "  Ensure $app is in login items."
    else
        echo "  Warning: /Applications/${app}.app not found. Skipping."
    fi
done

echo "Login items setup complete."
