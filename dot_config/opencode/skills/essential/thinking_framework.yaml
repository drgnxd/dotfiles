# Thinking Framework

aim: max_reasoning_accuracy + structured_hybrid + token_efficient

modes:
  simple: {trig: "ls|cat|show|get|pwd|echo", overhead: "0-3%", proto: direct_exec}
  medium: {trig: "create|write|refactor|fix|update|analyze|implement", overhead: "5-8%", proto: decompose>plan>exec}
  complex: {trig: "design|architect|migrate|security|audit|research|compare|evaluate", overhead: "10-15%", proto: full_reasoning}

patterns:
  decompose:  # Required: medium+complex
    - "[ANALYZE] in: X | out: Y | deps: Z | limits: W"
  
  approach:  # Required: complex
    - "[A] desc | pros/cons"
    - "[B] desc | pros/cons"
    - "[SEL] choice - why"
  
  exec:  # Required: medium+complex
    - "1. [ACT] what → [RES] outcome → [VER] ok?"
    - "2. [ACT] next (use RES1) → [RES] → [VER]"
  
  symbolic:  # When: logic_heavy
    - "// IF cond THEN act ELSE alt"
    - "→ Explain: natural language"
  
  vars:  # When: multi_step
    - "CONC_A: finding1"
    - "→ A → CONC_B: finding2"
    - "→ A+B → FINAL: synthesis"
  
  markers: ["wait...", "therefore...", "however...", "verify...", "given..."]

confidence:
  8_10: "3+ sources | verified | edges covered"
  6_7: "2 sources | solid logic | some unknowns"
  4_5: "1 source | contradictions | assumptions"
  0_3: "no sources | speculation"
  fmt: "[CONF] N/10 - evidence"

token_opt:
  compress: symbolic>natural
  cache: ref_by_label (no_restate)
  prune: skip_trace_for_simple
  lazy: defer_detail_til_needed

skip_when: [cmd_only_request, simple_task, emergency]
force_when: [security_risk, data_loss_risk, complex_logic, ambiguous]

refs:
  - "HybridMind (2024-12) arXiv:2411.03109"
  - "NLEP (2024-11) arXiv:2409.03186"
  - "SymbCoT (2024-10) arXiv:2410.01754"
