# ~/.config/git/config

# --- Core: basics ---
[core]
    editor = hx                  # Editor: Helix
    pager = delta                # Pager: Delta
    ignorecase = false           # Case sensitive (prevent surprises)
    quotepath = false            # Preserve multibyte filenames
    precomposeunicode = true     # Prevent macOS decomposed Unicode issues

[init]
    defaultBranch = main

# --- Delta: UI tweaks ---
[delta]
    navigate = true
    light = false
    line-numbers = true
    side-by-side = true
    syntax-theme = Solarized (dark) # Align with Helix theme
    # Solarized Dark Palette
    minus-style                   = syntax "#3e2329"
    minus-emph-style              = syntax "#5a2d34"
    plus-style                    = syntax "#18322c"
    plus-emph-style               = syntax "#1f453a"
    file-style                    = "#839496" bold
    file-decoration-style         = "#586e75" box
    hunk-header-style             = file line-number syntax
    hunk-header-decoration-style  = "#073642" box
    line-numbers-minus-style      = "#dc322f"
    line-numbers-plus-style       = "#859900"
    line-numbers-zero-style       = "#586e75"

[interactive]
    diffFilter = delta --color-only

[merge]
    conflictstyle = diff3        # Show common ancestor for easier resolution

# --- Push/Pull: convenience ---
[pull]
    rebase = false               # Safer for beginners (keeps merge commits)

[push]
    autoSetupRemote = true       # Add -u on first push automatically
    default = simple

[fetch]
    prune = true                 # Drop local refs removed on remote

# --- Alias: speed helpers ---
[alias]
    st = status -s
    co = checkout
    br = branch
    cm = commit -m
    a  = add
    aa = add .
    d  = diff
    ds = diff --staged
    
    # Convenience
    amend = commit --amend --no-edit
    undo  = reset --soft HEAD^
    lg    = !lazygit
    
    # Log (graph view)
    hist = log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white)- %an%C(reset)%C(bold yellow)%d%C(reset)' --all

# --- Important: load local overrides ---
[include]
    path = config.local

# --- Signing: SSH-based signatures via Proton Pass ---
[gpg]
    format = ssh

[commit]
    gpgsign = true

[tag]
    gpgsign = true

[user]
    # SSH signing key for commits (configured in config.local)
    # See config.local.example for setup instructions
